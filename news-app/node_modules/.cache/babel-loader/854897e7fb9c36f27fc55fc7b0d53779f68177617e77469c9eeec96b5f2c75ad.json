{"ast":null,"code":"import React,{useEffect,useState}from'react';import Newsitem from'./Newsitem';import Spinner from'./spinner';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const News=props=>{const[articles,setarticles]=useState([]);const[loading,setloading]=useState(true);const[page,setpage]=useState(1);const[totalResults,settotalResults]=useState(0);const capitalizeFirstLetter=string=>{return string.charAt(0).toUpperCase()+string.slice(1);};const updateNews=async()=>{props.setProgress(10);const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pageSize=\").concat(props.pageSize);setloading(true);let data=await fetch(url);props.setProgress(30);let parsedData=await data.json();props.setProgress(70);setarticles(parsedData.articles);settotalResults(parsedData.totalResults);setloading(false);props.setProgress(100);};useEffect(()=>{document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - IndiaNews\");updateNews();},[]);const fetchMoreData=async()=>{const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=c488e58aa8db4c669697d64be8d27adb&page=\").concat(page+1,\"&pageSize=\").concat(props.pageSize);setpage(page+1);setloading(true);let data=await fetch(url);let parsedData=await data.json();setarticles(articles.concat(parsedData.articles));settotalResults(parsedData.totalResults);setloading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",style:{maegin:'35px 0px',marginTop:'90px'},children:[\"IndiaNews - Top \",capitalizeFirstLetter(props.category),\" Headline\"]}),loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,next:fetchMoreData,hasMore:articles.length!==totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(Newsitem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})})})]});};News.defaultProps={country:'in',pageSize:8,category:'general'};export default News;","map":{"version":3,"names":["React","useEffect","useState","Newsitem","Spinner","InfiniteScroll","jsxs","_jsxs","jsx","_jsx","News","props","articles","setarticles","loading","setloading","page","setpage","totalResults","settotalResults","capitalizeFirstLetter","string","charAt","toUpperCase","slice","updateNews","setProgress","url","concat","country","category","apiKey","pageSize","data","fetch","parsedData","json","document","title","fetchMoreData","className","children","style","maegin","marginTop","dataLength","length","next","hasMore","loader","map","element","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","defaultProps"],"sources":["F:/react_js/newsapp/src/components/News.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport Newsitem from './Newsitem'\r\nimport Spinner from './spinner';\r\nimport PropTypes from 'prop-types'\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\n\r\nconst News = (props)=>{\r\n  const [articles, setarticles] = useState([])\r\n  const [loading, setloading] = useState(true)\r\n  const [page,setpage] = useState(1)\r\n  const [totalResults,settotalResults] = useState(0)\r\n\r\n\r\n  const capitalizeFirstLetter = (string)=> {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n  const updateNews = async ()=>{\r\n    props.setProgress(10);\r\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`;\r\n    setloading(true)\r\n    let data = await fetch(url);\r\n    props.setProgress(30);\r\n    let parsedData = await data.json()\r\n    props.setProgress(70);\r\n    setarticles(parsedData.articles)\r\n    settotalResults(parsedData.totalResults)\r\n    setloading(false)\r\n    props.setProgress(100);\r\n  }\r\n  useEffect(()=>{\r\n    document.title = `${capitalizeFirstLetter(props.category)} - IndiaNews`;\r\n    updateNews();\r\n  },[])\r\n\r\n  const fetchMoreData = async() => {\r\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=c488e58aa8db4c669697d64be8d27adb&page=${page+1}&pageSize=${props.pageSize}`;\r\n    setpage(page+1)\r\n    setloading(true)\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json()\r\n    setarticles(articles.concat(parsedData.articles))\r\n    settotalResults(parsedData.totalResults)\r\n    setloading(false)\r\n  };\r\n\r\n    return (\r\n      <div className=\"container my-3\">\r\n        <h1 className='text-center' style={{maegin: '35px 0px', marginTop: '90px'}}>IndiaNews - Top {capitalizeFirstLetter(props.category)} Headline</h1>\r\n        {loading && <Spinner/>}\r\n        <InfiniteScroll\r\n          dataLength={articles.length}\r\n          next={fetchMoreData}\r\n          hasMore={articles.length !== totalResults}\r\n          loader={<Spinner/>}\r\n         >\r\n          <div className='container'>\r\n        <div className=\"row\">\r\n        {articles.map((element)=>{\r\n            return <div className=\"col-md-4\" key={element.url}>\r\n            <Newsitem title = {element.title?element.title:\"\"} description={element.description?element.description:\"\"} imageUrl = {element.urlToImage} newsUrl ={element.url} author = {element.author} date = {element.publishedAt} source ={element.source.name}/>\r\n          </div> \r\n        })}\r\n        </div>\r\n        </div></InfiniteScroll>\r\n      </div>\r\n    )\r\n}\r\n\r\nNews.defaultProps = {\r\n  country: 'in',\r\n  pageSize: 8,\r\n  category: 'general',\r\n}\r\n\r\nNews.propTypes = {\r\n  country: PropTypes.string,\r\n  pageSize: PropTypes.number,\r\n  category: PropTypes.string,\r\n}\r\n\r\nexport default News\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAE/B,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAG7D,KAAM,CAAAC,IAAI,CAAIC,KAAK,EAAG,CACpB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,IAAI,CAACC,OAAO,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAClC,KAAM,CAACgB,YAAY,CAACC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAGlD,KAAM,CAAAkB,qBAAqB,CAAIC,MAAM,EAAI,CACvC,MAAO,CAAAA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,CACzD,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAU,CAC3Bd,KAAK,CAACe,WAAW,CAAC,EAAE,CAAC,CACrB,KAAM,CAAAC,GAAG,iDAAAC,MAAA,CAAmDjB,KAAK,CAACkB,OAAO,eAAAD,MAAA,CAAajB,KAAK,CAACmB,QAAQ,aAAAF,MAAA,CAAWjB,KAAK,CAACoB,MAAM,WAAAH,MAAA,CAASZ,IAAI,eAAAY,MAAA,CAAajB,KAAK,CAACqB,QAAQ,CAAE,CACrKjB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CAAAkB,IAAI,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC3BhB,KAAK,CAACe,WAAW,CAAC,EAAE,CAAC,CACrB,GAAI,CAAAS,UAAU,CAAG,KAAM,CAAAF,IAAI,CAACG,IAAI,CAAC,CAAC,CAClCzB,KAAK,CAACe,WAAW,CAAC,EAAE,CAAC,CACrBb,WAAW,CAACsB,UAAU,CAACvB,QAAQ,CAAC,CAChCO,eAAe,CAACgB,UAAU,CAACjB,YAAY,CAAC,CACxCH,UAAU,CAAC,KAAK,CAAC,CACjBJ,KAAK,CAACe,WAAW,CAAC,GAAG,CAAC,CACxB,CAAC,CACDzB,SAAS,CAAC,IAAI,CACZoC,QAAQ,CAACC,KAAK,IAAAV,MAAA,CAAMR,qBAAqB,CAACT,KAAK,CAACmB,QAAQ,CAAC,gBAAc,CACvEL,UAAU,CAAC,CAAC,CACd,CAAC,CAAC,EAAE,CAAC,CAEL,KAAM,CAAAc,aAAa,CAAG,KAAAA,CAAA,GAAW,CAC/B,KAAM,CAAAZ,GAAG,iDAAAC,MAAA,CAAmDjB,KAAK,CAACkB,OAAO,eAAAD,MAAA,CAAajB,KAAK,CAACmB,QAAQ,mDAAAF,MAAA,CAAiDZ,IAAI,CAAC,CAAC,eAAAY,MAAA,CAAajB,KAAK,CAACqB,QAAQ,CAAE,CACxLf,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC,CACfD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CAAAkB,IAAI,CAAG,KAAM,CAAAC,KAAK,CAACP,GAAG,CAAC,CAC3B,GAAI,CAAAQ,UAAU,CAAG,KAAM,CAAAF,IAAI,CAACG,IAAI,CAAC,CAAC,CAClCvB,WAAW,CAACD,QAAQ,CAACgB,MAAM,CAACO,UAAU,CAACvB,QAAQ,CAAC,CAAC,CACjDO,eAAe,CAACgB,UAAU,CAACjB,YAAY,CAAC,CACxCH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAEC,mBACER,KAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BlC,KAAA,OAAIiC,SAAS,CAAC,aAAa,CAACE,KAAK,CAAE,CAACC,MAAM,CAAE,UAAU,CAAEC,SAAS,CAAE,MAAM,CAAE,CAAAH,QAAA,EAAC,kBAAgB,CAACrB,qBAAqB,CAACT,KAAK,CAACmB,QAAQ,CAAC,CAAC,WAAS,EAAI,CAAC,CAChJhB,OAAO,eAAIL,IAAA,CAACL,OAAO,GAAC,CAAC,cACtBK,IAAA,CAACJ,cAAc,EACbwC,UAAU,CAAEjC,QAAQ,CAACkC,MAAO,CAC5BC,IAAI,CAAER,aAAc,CACpBS,OAAO,CAAEpC,QAAQ,CAACkC,MAAM,GAAK5B,YAAa,CAC1C+B,MAAM,cAAExC,IAAA,CAACL,OAAO,GAAC,CAAE,CAAAqC,QAAA,cAEnBhC,IAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,cAC5BhC,IAAA,QAAK+B,SAAS,CAAC,KAAK,CAAAC,QAAA,CACnB7B,QAAQ,CAACsC,GAAG,CAAEC,OAAO,EAAG,CACrB,mBAAO1C,IAAA,QAAK+B,SAAS,CAAC,UAAU,CAAAC,QAAA,cAChChC,IAAA,CAACN,QAAQ,EAACmC,KAAK,CAAIa,OAAO,CAACb,KAAK,CAACa,OAAO,CAACb,KAAK,CAAC,EAAG,CAACc,WAAW,CAAED,OAAO,CAACC,WAAW,CAACD,OAAO,CAACC,WAAW,CAAC,EAAG,CAACC,QAAQ,CAAIF,OAAO,CAACG,UAAW,CAACC,OAAO,CAAGJ,OAAO,CAACxB,GAAI,CAAC6B,MAAM,CAAIL,OAAO,CAACK,MAAO,CAACC,IAAI,CAAIN,OAAO,CAACO,WAAY,CAACC,MAAM,CAAGR,OAAO,CAACQ,MAAM,CAACC,IAAK,CAAC,CAAC,EADnNT,OAAO,CAACxB,GAE3C,CAAC,CACR,CAAC,CAAC,CACG,CAAC,CACD,CAAC,CAAgB,CAAC,EACpB,CAAC,CAEZ,CAAC,CAEDjB,IAAI,CAACmD,YAAY,CAAG,CAClBhC,OAAO,CAAE,IAAI,CACbG,QAAQ,CAAE,CAAC,CACXF,QAAQ,CAAE,SACZ,CAAC,CAQD,cAAe,CAAApB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}